---
layout:  post
title:  vim的使用 
date:  2019-12-25 09:19:20
categories:  vim
---


# vi/vim的使用


## 什么是vim

>Vim是从 vi 发展出来的一个文本编辑器。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

vim键盘图：

![vim](/assets/vim/vim.gif)


## vi/vim的使用

>基本上 vi/vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。


### 命令模式

用户刚刚启动 vi/vim，便进入了命令模式。

此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。

以下是常用的几个命令：

+ i 切换到输入模式，进行编辑文本。

+ x 删除当前光标所在处的字符。

+ : 切换到底线命令模式，以在最底一行输入命令，需要切入到输入模式输入命令

命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。


### 输入模式

在命令模式下按i进入输入模式，可以编辑文件

按ESC退出输入模式，切换到命令模式


### 底线命令模式

在命令模式下按 : 切换到底线命令模式

+ w 保存文件

+ q 退出


## vim的流程

        新建或编辑文件（进入了一般模式）
                         vim 文件名
                                ↓
            按下i进入编辑模式，进行编辑
                                ↓
        编辑完成之后按下 ESC 回到一般模式
                                ↓
       在一般模式中按下：wq保存后离开 vim


## vi/vim按键说明


### 搜索替换


	/word  	
		
向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ 



	?word
	
向光标之上寻找一个字符串称为word的字符串



	n
	
这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。



	N
	
这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。



	:n1,n2s/word1/word2/g
	
n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 word 并取代为 VBIRD 则：『:100,200s/word/VBIRD/g』。



	:1,$s/word1/word2/g  或  :%s/word1/word2/g

从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！


### 删除复制与粘贴

	x, X
	
在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键)



	nx
	
n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。



	ndd
	
n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除 20 行



	d1G
	
删除光标所在到第一行的所有数据



	dG
	
删除光标所在到最后一行的所有数据



	yy
	
复制游标所在的那一行



	nyy
	
n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行



	y1G
	
复制游标所在行到第一行的所有数据



	yG
	
复制游标所在行到最后一行的所有数据



	p, P
	
p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。



	J
	
将光标所在行与下一行的数据结合成同一行



	u
	
复原前一个动作（撤销）



	[Ctrl]+r
	
重做上一个动作。



	.  (小数点)
	
重复做前一个动作。


### 指令行模式命令

	:wq
	
储存后离开，若为 :wq! 则为强制储存后离开
	
	
	
	ZZ
	
若档案没有更动，则不储存离开，若档案已经被更动过，则储存后离开



	:w [filename]
	
将编辑的数据储存成另一个档案（类似另存新档）



	:r [filename]
	
在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面



	:n1,n2 w [filename]
	
将 n1 到 n2 的内容储存成 filename 这个档案。



	:! command
	
暂时离开 vi 到指令行模式下执行 command 的显示结果！例如
『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！





